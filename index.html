<!DOCTYPE html>
<html lang="en">
<head>
<title>Study Group Finder</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="icons/favicon-group.png" type="image/png" sizes="16x16">
<style>
body {font-family: Arial;}

/* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
  animation: fadeEffect 1s; /* Fading effect takes 1 second */
}

select{
  width: 100%;
  padding: 12px  20px;
  margin: 8px 0;
  box-sizing: border-box;
}

input {
  width: 100%;
  padding: 12px  20px;
  margin: 8px 0;
  box-sizing: border-box;
}

input[type=button] {
  background-color: #4CAF50;
}

.flex-container {
  flex-wrap: wrap;
  display: flex;
}

.sidebar{
  display: block;
  flex-basis: 30%;
  height: 100%;
  padding-top: 20px;
  padding-right: 20px;
}

.chat{
  display: block;
  flex-basis: 60%;
  height: 100%;
  padding: 20px;
}

.sidebar-item{
  padding-left: 0%;
  padding-bottom: 20px;
}

.container {
  border: 2px solid #dedede;
  background-color: #f1f1f1;
  border-radius: 5px;
  padding: 10px;
  margin: 10px 0;
}

.darker {
  border-color: #ccc;
  background-color: #ddd;
}

.chat-text{
  border: 1px solid #dedede;
  margin-top: 0px;
  flex-basis: 80%;
  height: 40px;
}

.chat-button{
  border: 1px solid #dedede;
  margin-top: 0px;
  flex-basis: 20%;
  height: 40px;
}

.group-header{
  flex-basis: 90%;
  align-self: center;
}

.settings-icon{
  flex-basis: 10%;
  border: none;
  background: none;
  padding-top: 10px;
}

.newmessage{
  display: none;
}

/* Go from zero to full opacity */
@keyframes fadeEffect {
  from {opacity: 0;}
  to {opacity: 1;}
}
</style>
</head>
<body>
<div class="tab">
  <button id="defaultOpen" class="tablinks" title="Home" onclick="openTab(event, 'Home')">
    <img src="icons/home.png" alt="Home" width="50" height="50"/>
  </button>
  <button class="tablinks" title="Search" onclick="openTab(event, 'Search')">
    <img src="icons/search.png" alt="Search" width="50" height="50"/>
  </button>
  <button class="tablinks" title="Create Group" onclick="openTab(event, 'Create_Group')">
    <img src="icons/create_group2.png" alt="Create Group" width="50" height="50"/>
  </button>
  <button class="tablinks" title="User Profile" onclick="openTab(event, 'User_Profile')">
    <img src="icons/user_profile.png" alt="User Profile" width="50" height="50"/>
  </button>
  <a href="login.html"><button class="tablinks" title="Logout"> <!--onclick="openTab(event, 'Logout')"-->
	<img src="icons/door-exit.png" alt="Logout" width="50" height="50"/>
  </button></a>
</div>

<div id="Home" class="tabcontent">
  <h3>Home</h3>
  <p>Content goes here...</p>
</div>

<div id="Search" class="tabcontent">
  <h3>Search</h3>
  <p>Content goes here...</p>
</div>

<div id="Create_Group" class="tabcontent">
  <h3>Create Group</h3>
  <p>Seems like you want to create a group, pls dont try to take control over the world or be a facist...</p>
  <form name="groupform">
    <label for="groupname"><b>Group name:</b></label><br>
    <input type="text" placeholder="Enter group name" id="groupname" required><br>

    <label for="lecture"><b>Lecture:</b></label><br>
    <input type="text" placeholder="Enter lecture" id="lecture" required><br>

    <label for="maxusers"><b>Member limit:</b></label><br>
      <select name="maxusers size="1">
        <option>2</option>
        <option>6</option>
        <option>10</option>
        <option>15</option>
        <option>20</option>
      </select><br>

    <label for="precondition"><b>Precondition:</b></label><br>
    <input type="text" placeholder="Enter preconditions" id="precondition" required><br>

    <label for="description"><b>Description:</b></label><br>
    <input type="text" placeholder="Enter description" id="description" required><br>
    
    <label for="createGroupButton"></label><br>
    <input type="button" value="Save group" onclick='validateForm("groupname","lecture","precondition","description")'><br>
  </form>
</div>

<div id="Group-Settings" class="tabcontent">
  <h3>Group Settings</h3>
  <form>
    <label for="groupname"><b>Group name:</b></label><br>
    <input type="text" value="Programmers of tomorrow" id="settinggroupname" required><br>

    <label for="lecture"><b>Lecture:</b></label><br>
    <input type="text" id="settinglecture" value="Programmieren 1" required><br>

    <label for="maxusers"><b>Member limit:</b></label><br>
      <select name="maxusers size="1">
        <option>2</option>
        <option selected>6</option>
        <option>10</option>
        <option>15</option>
        <option>20</option>
      </select><br>

    <label for="precondition"><b>Precondition:</b></label><br>
    <input type="text" id="settingprecondition" value="None" required><br>

    <label for="description"><b>Description:</b></label><br>
    <input type="text" id="settingdescription" value="If u want to work on your Programmieren 1 assignments together this is the right place" name="description" required><br>
    
    <label for="createGroupButton"></label><br>
    <input type="button" id="1" value="Save group" onclick='validateForm("settinggroupname","settinglecture","settingprecondition","settingdescription")'><br>
  </form>
</div>

<div id="Group_Profile" class="tabcontent">
  <div class="flex-container">
    <div class=group-header>
      <h3>Group Profile: Programmers of tomorrow</h3>
    </div>
    <div class=settings-icon>
      <button class="settings-icon" title="User Profile" onclick="openTab(event, 'Group-Settings')">
      <img src="icons/settings.png" alt="User Profile" width="40" height="40"/>
    </button>
    </div>
  </div>
  <div class=flex-container>
    <div class=sidebar>
      <div class=sidebar-item>
        <b>Members 3/6</b><br><br>
        You<br>
        Hans Wurst <img src="icons/star.png" alt="Group Admin" width="10" height="10"/><br>
        Joachim Schikele<br>
      </div>
      <div class=sidebar-item>
        <b>Dates</b><br><br>
        13.11.20<br>
        20.11.20<br>
        27.11.20<br>
      </div>
    </div class= sidebar>
    <div class=chat>
      <b>Chat</b>
      <div class="chat-messages" id="chat-messages">
        <div class="container">
          <p><b>Ich:</b> Hello my name is Thomas.</p>
          11:00
        </div>
        <div class="container darker">
          <p><b>Hans:</b> has anyone of you heard of stack overflow ?</p>
          11:02
        </div>
        <div class="container darker">
          <p><b>Joachim:</b> yeah it had a neet fix for my relationship</p>
          11:03
        </div>
      </div>
      <div class=flex-container>
        <input class="chat-text" id="chat-text" type="text" placeholder="Write something..."/>
        <button class="chat-button" type="button" onclick="sendText()">Send</button>
      </div>

    </div>
  </div>

</div>


<div id="User_Profile" class="tabcontent">
  <h3>User Profile</h3>
  <p>Content goes here...</p>
</div>

<script>

function validateForm(groupname,lecture,precondition,description){
  var groupname = document.getElementById(groupname).value;
  var lecture = document.getElementById(lecture).value;
  var precondition = document.getElementById(precondition).value;
  var description = document.getElementById(description).value;
  console.log(groupname,lecture,precondition,description);

  if(groupname == "" || lecture == "" || precondition == "" || description == "" ){
    alert("Please fill out all inputs.");
  }
  else{
    openTab(event,"Group_Profile");
  }
} 

function sendText(){
  var chatText = document.getElementById("chat-text");
  var inputText = chatText.value;
  if (inputText == ""){
    return false;
  }

  var chatmessages = document.getElementById("chat-messages");
  var newmessage = document.createElement("div");

  newmessage.classList.add("container");
  newmessage.style.display = "block";
  var time = new Date().toLocaleTimeString('de-DE', { hour: "numeric", 
                                             minute: "numeric"});

  newmessage.innerHTML = '<p><b>Ich: </b>' + inputText + '</p>' + time;
  chatmessages.append(newmessage);
  chatText.value = "";
}

function openTab(evt, tabName) {  
  var tabcontents = document.getElementsByClassName("tabcontent");
  for (var i = 0; i < tabcontents.length; ++i) {
    tabcontents[i].style.display = "none";
  }
  
  var tablinks = document.getElementsByClassName("tablinks");
  for (var i = 0; i < tablinks.length; ++i) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " active";
}

// Show home-tab by default
document.getElementById("defaultOpen").click();
</script>
</body>
</html>